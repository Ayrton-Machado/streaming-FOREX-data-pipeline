# PostgreSQL Configuration for TimescaleDB
# Optimized for FOREX time-series data

# Connection Settings
listen_addresses = '*'
port = 5432
max_connections = 200

# Memory Settings
shared_buffers = 256MB
effective_cache_size = 1GB
maintenance_work_mem = 128MB
work_mem = 4MB

# WAL Settings
wal_level = replica
wal_buffers = 16MB
checkpoint_completion_target = 0.9
min_wal_size = 1GB
max_wal_size = 4GB

# Query Tuning
random_page_cost = 1.1
effective_io_concurrency = 200
default_statistics_target = 100

# TimescaleDB Specific
shared_preload_libraries = 'timescaledb'
timescaledb.telemetry_level = 'off'

# Logging
log_min_duration_statement = 1000
log_statement = 'none'
log_line_prefix = '%t [%p]: [%l-1] user=%u,db=%d,app=%a,client=%h '

# Timezone
timezone = 'UTC'
log_timezone = 'UTC'

# Auto-vacuum
autovacuum = on
autovacuum_max_workers = 3

# Background Writer
bgwriter_delay = 200ms
bgwriter_lru_maxpages = 100
bgwriter_lru_multiplier = 2.0